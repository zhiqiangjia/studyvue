<html>
    <head>
            <meta charset="utf-8">
            <title>计算属性使用-02</title>
    </head>
   
    <body>
        <div id="app">
            总价： {{totalPrice}}
        </br>
            <input type="text" v-model="price" placeholder="请输入价格">
            <button  v-on:click="addPrice">加价</button>
        </div>

        <script src="https://cdn.bootcss.com/vue/2.5.17-beta.0/vue.min.js"></script>
        <script>
            var app = new Vue({
                el: '#app',
                methods: {
                    addPrice:function() {
                        this.totalPrice = this.price;
                        console.log('加价');
                    }
                },

                data: {
                    package1: [
                        {
                            name:'iphone 7',
                            price: 6712,
                            count: 1
                        },
                        {
                            name:'ipad',
                            price: 2345,
                            count: 1
                        }
                    ],
                    package2 : [
                         {
                            name:'apple',
                            price: 4.13,
                            count: 1
                        },
                        {
                            name:'banana',
                            price: 2.9,
                            count: 1
                        }
                    ],
                    price: 0,
                },
                computed:
                {
                    totalPrice:
                    {
                        get: function()
                        {
                            var prices = 0; 
                            for (var index = 0; index < this.package1.length; index++) {
                                prices += (this.package1[index].price * this.package1[index].count);
                            }
                            for (var index = 0; index < this.package2.length; index++) {
                                prices += (this.package2[index].price * this.package2[index].count);
                            }
                            console.log(prices);
                            return prices;
                        },
                        set: function(addvalue)
                        {
                                for (var index = 0; index < this.package1.length; index++)
                                {
                                    this.package1[index].price += Number(addvalue);
                                }
                                for (var index = 0; index < this.package2.length; index++)
                                {
                                   this.package2[index].price += Number(addvalue);
                                }
                        }
                    }
                 },
            });
        </script>
</html>